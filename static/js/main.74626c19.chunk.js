(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var o=arguments[e],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=s(n(0)),u=n(28),c=n(44),p=s(n(60)),h=new(n(63).WikiParser);n(64);var f=function(t){function e(e){var n=t.call(this,e)||this;return n.autoCloseAlertTimeout=5e3,n.maxAvaliablePagesCount=100,n.defaultAvailablePagesCount=1,n.templAlertIndex=0,n.onCategorySelectChange=n.onCategorySelectChange.bind(n),n.onMaxPagesNumberChange=n.onMaxPagesNumberChange.bind(n),n.onSubmitButtonClick=n.onSubmitButtonClick.bind(n),n.onSearchSubmit=n.onSearchSubmit.bind(n),n.onCloseAlert=n.onCloseAlert.bind(n),n.state=n.getDefaultState(),n}return a(e,t),e.prototype.getDefaultState=function(){return{loading:!1,category:"",errors:[],maxAvaliablePagesCount:10}},e.prototype.onSearchSubmit=function(t){t.preventDefault(),this.sendRequest()},e.prototype.sendRequest=function(){var t=this;if(!this.state.loading){var e=this.state.category;if(!e.length)return this.generateAlert({description:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e.",variant:"danger"});h.parse(e).then(function(e){console.log("res",e),t.setState(o(o({},t.state),{loading:!1}))}).catch(function(e){console.log("Error",e),t.setState(o(o({},t.state),{loading:!1}))}),this.setState(o(o({},this.state),{loading:!0}))}},e.prototype.generateAlert=function(t){var e=this,n=t.headerText,r=t.description,a=t.variant,i=this.state.errors;n=n||"warning"===a&&"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"||"danger"===a&&"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430";var s=i.push({headerText:n,description:r,variant:a,visible:!0});this.templAlertIndex=s-1,setTimeout(function(t){e.onCloseAlert(t)},this.autoCloseAlertTimeout,s-1),this.setState(o(o({},this.state),{errors:i}))},e.prototype.onSubmitButtonClick=function(){this.sendRequest()},e.prototype.onCloseAlert=function(t){var e=i(this.state.errors);e[t]&&(e[t].visible=!1),this.templAlertIndex===t&&(e=[]),this.setState(o(o({},this.state),{errors:e}))},e.prototype.onCategorySelectChange=function(t){this.setState(o(o({},this.state),{category:t.target.value}))},e.prototype.onMaxPagesNumberChange=function(t){var e=t.target.value,n=e;(e<=0||e>this.maxAvaliablePagesCount)&&(e<=0?(this.generateAlert({description:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 <b>1</b>.",variant:"warning"}),n=1):e>this.maxAvaliablePagesCount&&(this.generateAlert({description:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 \u0438\u043b\u0438 \u0440\u0430\u0432\u043d\u043e <b>"+this.maxAvaliablePagesCount+"</b>.",variant:"warning"}),n=this.maxAvaliablePagesCount)),this.setState(o(o({},this.state),{maxAvaliablePagesCount:n}))},e.prototype.render=function(){var t=String(this.state.maxAvaliablePagesCount||this.defaultAvailablePagesCount);return l.default.createElement("div",{className:"page"},l.default.createElement(u.Search,{onSearchSubmit:this.onSearchSubmit,onCategorySelectChange:this.onCategorySelectChange,onMaxPagesNumberChange:this.onMaxPagesNumberChange,onSubmitButtonClick:this.onSubmitButtonClick,category:this.state.category,loading:this.state.loading,maxAvaliablePagesCount:t}),l.default.createElement(c.Alerts,{items:this.state.errors,onCloseAlert:this.onCloseAlert}),this.state.loading&&l.default.createElement(p.default,{animated:!0,now:45}))},e}(l.default.Component);e.default=f},22:function(t,e,n){t.exports=n(23)},23:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(9),i=n.n(o),s=n(21),l=n.n(s);i.a.render(a.a.createElement(l.a,null),document.getElementById("root"))},28:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(0)),l=i(n(29)),u=i(n(14)),c=i(n(34));n(42);var p=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.render=function(){return s.default.createElement(c.default,{className:"search",onSubmit:this.props.onSearchSubmit},s.default.createElement(c.default.Control,{as:"select",value:this.props.category,onChange:this.props.onCategorySelectChange},s.default.createElement("option",{disabled:!0,value:""},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e"),s.default.createElement("option",{value:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:\u041f\u043e\u0440\u043e\u0434\u044b_\u0441\u043e\u0431\u0430\u043a_\u043f\u043e_\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:\u041f\u043e\u0440\u043e\u0434\u044b_\u0441\u043e\u0431\u0430\u043a_\u043f\u043e_\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"),s.default.createElement("option",{value:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435_\u043f\u043e_\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435_\u043f\u043e_\u0430\u043b\u0444\u0430\u0432\u0438\u0442\u0443")),s.default.createElement(u.default,{type:"number",className:"search__item",placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e","aria-label":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e","aria-describedby":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",value:this.props.maxAvaliablePagesCount,onChange:this.props.onMaxPagesNumberChange,max:this.props.maxAvaliablePagesCount,min:1}),s.default.createElement(l.default,{disabled:this.props.loading,onClick:this.props.onSubmitButtonClick,variant:"primary"},"Start"))},e}(s.Component);e.Search=p},42:function(t,e,n){},44:function(t,e,n){"use strict";var r,a=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(0)),l=i(n(45));n(58);var u=function(t){function e(e){var n=t.call(this,e)||this;return n.alertMap=n.alertMap.bind(n),n}return a(e,t),e.prototype.alertMap=function(t,e){var n=this.props.onCloseAlert;return t.visible&&s.default.createElement(l.default,{key:e,variant:t.variant,onClose:function(){return n(e)},dismissible:!0},t.headerText&&s.default.createElement(l.default.Heading,null,t.headerText),t.description&&s.default.createElement("p",{className:"alert-description",dangerouslySetInnerHTML:{__html:t.description}}))},e.prototype.render=function(){var t=this.props.items;return t&&t.length>0&&s.default.createElement("div",{className:"alerts"},t.map(this.alertMap))},e}(s.Component);e.Alerts=u},58:function(t,e,n){},63:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(n(0)),o=function(){function t(){}return t.prototype.parse=function(t){var e="https://ru.wikipedia.org/w/api.php?"+function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.slice(0,-1)}({action:"query",generator:"categorymembers",gcmtitle:encodeURIComponent(t),format:"json",gcmlimit:600});return console.log(e),new Promise(function(t,n){fetch(e,{mode:"cors"}).then(function(t){console.log("response",t)}).catch(function(t){return n(t)})})},t.prototype.render=function(){return a.default.createElement("div",null,"123")},t}();e.WikiParser=o},64:function(t,e,n){}},[[22,2,1]]]);